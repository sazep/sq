<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Автоматизация для заполнения JSON файлов</title>
</head>
<body>

<h2>Форма заполнения JSON данных</h2>

<div>
  <label for="date">Дата:</label>
  <input type="date" id="date" value="">
</div>

<div>
  <label for="start">Начальное значение:</label>
  <input type="number" id="start" value="">
</div>

<div>
  <label for="max">Максимальное значение:</label>
  <input type="number" id="max" value="">
</div>

<div>
  <label for="min">Минимальное значение:</label>
  <input type="number" id="min" value="">
</div>

<div>
  <label for="end">Значение в конце дня:</label>
  <input type="number" id="end" value="">
</div>

<div>
  <label for="unknown">Продано акций за день:</label>
  <input type="text" id="unknown" value="">
</div>

<div>
  <label for="filename">Выберите имя файла:</label>
  <select id="filename">
    <option value="Wir_Wallet.json">WirWallet</option>
    <option value="POTS.json">POTS</option>
    <option value="Sperma_Squad.json">Sperma Squad</option>
    <option value="WAFF_REZIM.json">WAFF REZIM</option>
  </select>
</div>

<button onclick="saveData()">Сохранить данные</button>

<script>
function saveData() {
  var date = document.getElementById("date").value;
  var start = document.getElementById("start").value;
  var max = document.getElementById("max").value;
  var min = document.getElementById("min").value;
  var end = document.getElementById("end").value;
  var unknown = document.getElementById("unknown").value || "";
  var filename = document.getElementById("filename").value;

  // Создаем объект с данными
  var jsonData = [
    {
      "Дата": date,
      "Начальное значение": parseInt(start),
      "Максимальное значение": parseInt(max),
      "Минимальное значение": parseInt(min),
      "Значение в конце дня": parseInt(end),
      "Продано акций за день": parseInt(unknown)
    }
  ];

  // Преобразуем объект в строку JSON
  var jsonStr = JSON.stringify(jsonData);

  // Отправляем данные на сервер
  saveToFile(filename, jsonStr);
}

function saveToFile(filename, data) {
  var xhr = new XMLHttpRequest();
  xhr.open("POST", "save_json.php", true); // Замените "save_json.php" на URL вашего серверного скрипта
  xhr.setRequestHeader("Content-Type", "application/json");

  xhr.onreadystatechange = function() {
    if (xhr.readyState === 4 && xhr.status === 200) {
      console.log("Данные успешно сохранены в файл:", filename);
    }
  };

  xhr.send(JSON.stringify({ filename: filename, data: data }));
}
</script>

</body>
</html>
